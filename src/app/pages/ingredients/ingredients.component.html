<div class="container">
  <div *ngFor="let category of categories" class="category-section">
    <div class="header">
      <h2>{{ category.name }}</h2>
    </div>

    <div class="ingredients-grid">
      <div *ngFor="let item of category.items" class="ingredient-item">
        <div class="image-container">
          <img
            [src]="
              'assets/ingredients/' + item.name + '.png' ||
              'assets/menu/placeholder.png'
            "
            (error)="item.image = ''"
            *ngIf="item.image; else svgFallback"
            alt="{{ item.name }}"
            width="100"
            height="100"
            style="object-fit: contain"
          />

          <ng-template #svgFallback>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 100 100"
              [attr.fill]="getIconColor(item.iconType)"
              width="100"
              height="100"
            >
              <rect width="100" height="100" fill="#f5f5f5" />
              <circle
                cx="50"
                cy="40"
                r="25"
                [attr.fill]="getIconColor(item.iconType)"
              />
              <text
                x="50"
                y="85"
                text-anchor="middle"
                font-size="10"
                fill="#333"
              >
                {{ item.name }}
              </text>
            </svg>
          </ng-template>
        </div>
        <div class="item-details">
          <div class="name">{{ item.name }} {{ item.weight }} กรัม</div>
          <div class="calories">
            เท่ากับโซเดียม {{ item.calories }} มิลลิกรัม
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
